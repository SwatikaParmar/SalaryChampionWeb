<div class="selfie-container">
  <div class="row" style="width: 100%;">

    <!-- LEFT -->
    <div class="col-md-6 selfie-form">
      <h3>Upload Your Picture</h3>
      <p class="subtitle">Make sure your face is clearly visible</p>

      <!-- TAKE SELFIE -->
      <button
        class="primary-btn"
        *ngIf="!cameraStarted && !previewUrl"
        (click)="startCamera()"
      >
        Take a Selfie
      </button>

      <!-- CAMERA -->
      <div
        class="camera-box"
        *ngIf="cameraStarted"
        [class.detected]="faceDetected"
      >
        <video #video autoplay muted></video>
      </div>

      <!-- CAPTURE -->
      <button
        class="primary-btn"
        *ngIf="cameraStarted"
        [disabled]="!faceDetected"
        (click)="captureSelfie()"
      >
        Capture Photo
      </button>

      <!-- PREVIEW -->
      <div class="preview-box" *ngIf="previewUrl">
        <img [src]="previewUrl" alt="Preview" />

        <div class="preview-actions">
          <button class="secondary-btn" (click)="retake()">Retake</button>
          <button class="primary-btn" (click)="uploadCapturedImage()">
            Upload
          </button>
        </div>
      </div>

      <canvas #canvas hidden></canvas>
    </div>

    <!-- RIGHT -->
    <div class="col-md-6">
      <!-- optional illustration -->
    </div>
  </div>  
</div>
