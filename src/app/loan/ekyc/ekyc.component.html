<div class="ekyc-wrapper">
  <div class="row">
    <div class="col-md-6">
      <div class="ekyc-box">
        <div class="action-arr mb-3">
          <a href="#" class="back-lk"><i class="fa-solid fa-arrow-left"></i></a>
          <h3 class="page-title">eKYC Verification</h3>
        </div>

        <p class="desc">
          Complete your identity verification using DigiLocker to proceed further. 
        </p>
                
        <h5>To initiate eKYC verification</h5>

        <!-- ERROR -->
        <p class="error" *ngIf="errorMsg">{{ errorMsg }}</p>

        <!-- START BUTTON -->
        <button
          class="btn-primary mt-3"
          (click)="startEkyc()"
          [disabled]="loading || !applicationId || ekycUrl"
        >
          <span *ngIf="!loading">Start eKYC</span>
          <span *ngIf="loading">Loading...</span>
        </button>

        <!-- ================= EMBEDDED EKYC ================= -->
        <div class="ekyc-frame-wrapper" *ngIf="ekycUrl">
          <iframe
            [src]="ekycUrl | safeUrl"
            frameborder="0"
            allowfullscreen
          ></iframe>
        </div>

        <!-- CONTINUE -->
        <button
          class="btn-secondary"
          *ngIf="ekycUrl"
          (click)="continueAfterEkyc()"
        >
          Continue
        </button>
      </div>
    </div>

    <div class="col-md-6">
      <div class="rfigure">
        <img src="assets/images/adharcard.png" class="img-fluid"> 
      </div>
    </div>

  </div>
</div>
